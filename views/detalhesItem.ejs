<!DOCTYPE html>
<html lang="pt">
  <head>
    <title>Detalhes do Item - <%= item.nome %></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.11.1/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body class="min-h-screen bg-gradient-to-b from-blue-100 to-blue-200">
    <!-- Navbar -->
    <div class="navbar bg-base-100">
      <div class="flex-1">
        <img src="/logotipoER.png" alt="Logo" class="h-10 w-auto mr-2" />
        <a href="/" class="btn btn-ghost text-xl"
          >Pereiro - Plataforma de Reutilização</a
        >
      </div>
      
      <div class="flex-none">
        <div class="dropdown dropdown-end">
          <button tabindex="0" class="btn btn-square btn-ghost">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              class="inline-block h-5 w-5 stroke-current"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"
              ></path>
            </svg>
          </button>
          <ul
            tabindex="0"
            class="dark:bg-white text-black dropdown-content menu menu-sm z-[1] mt-3 w-52 bg-base-100 p-2 shadow rounded-box"
          >
            <li><a href="/perfil">Perfil</a></li>
            <li><a href="/sair">Sair</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Detalhes do Item -->
    <div class="container mx-auto px-4 py-16">
      <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-3xl font-bold text-gray-900 mb-4"><%= item.nome %></h1>

        <% if (item.fotos && item.fotos.length > 0) { %>
        <div class="relative"></div>
          <div class="carousel">
            <% item.fotos.forEach((foto, index) => { %>
            <div id="slide<%= index %>" class="carousel-item relative w-full">
              <img
          src="/secure_uploads/<%= encodeURIComponent(foto.path) %>"
          alt="<%= item.nome %>"
          class="w-1/2 mx-auto rounded-md shadow-md mb-6"
              />
              <div class="absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2">
          <a href="#slide<%= (index - 1 + item.fotos.length) %>" class="btn btn-circle">❮</a>
          <a href="#slide<%= (index + 1) %>" class="btn btn-circle">❯</a>
              </div>
            </div>
            <% }) %>
          </div>
        </div>
        <% } else { %>
        <div
          class="w-full h-48 bg-gray-200 flex items-center justify-center text-gray-500 mb-6"
        >
          Sem imagem disponível
        </div>
        <% } %>
        <div class="grid grid-cols-1 justify-items-center">
        <p class="text-lg text-gray-700 mb-2 mt-5">
          <strong>Categoria:</strong> <%= item.categoria %>
        </p>
        <p class="text-lg text-gray-700 mb-2">
          <strong>Localização:</strong> <%= item.localizacao %>
        </p>
        <p class="text-lg text-gray-700">
          <strong>Descrição:</strong> <%= item.descricao %>
        </p>
      </div>
        <div class="grid grid-cols-1 ml-5 mr-5 mt-6 justfiy-center gap-5 text-xl">
          <button class="btn btn-success text-white rounded ransition-colors duration-300">
            <a href="/item/<%= item.id%>/comprar"
              class="text-xl"
              >Comprar</a>
          </button>
        </div>
        <div class="grid grid-cols-2 ml-5 mr-5 mt-6 justfiy-center gap-5 text-xl">
          <button class=" bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors duration-300">
            <a href="/pesquisa"
              class=""
              >Voltar a pesquisar</a>
          </button>
        <button onclick="window.history.back()" class="btn btn-secondary text-white rounded transition-colors duration-300 text-xl">Voltar</button>
        </div>
        
      </div>
    </div>
  </body>
</html>